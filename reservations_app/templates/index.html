{% extends 'base.html' %}

{% block title %}Главная страница{% endblock title %}

{% block content %}

<h1 class="mb-3">
  {% block main_text %}Предстоящие бронирования{% endblock main_text %}
</h1>
{% with messages = get_flashed_messages(category_filter=["order-success"]) %}
  {% if messages %}
    {% for message in messages %}
      <p style="color: green">
        {{ message }}
      </p>
    {% endfor %}
  {% endif %}
{% endwith %}

<table class="table table-striped table-sm">
  <thead>
    <tr>
      <th scope="col">id</th>
      <th scope="col">Имя гостя</th>
      <th scope="col">Дата заезда</th>
      <th scope="col">Дата выезда</th>
      <th scope="col">Гостей</th>
      <th scope="col">Ночей</th>
      <th scope="col">Коментарий</th>
      <th scope="col">Статус</th>
      <th scope="col">#</th>
    </tr>
  </thead>
  <tbody>
    {% for order in orders %}
    <tr>
      <td>{{ order.id }}</td>
      <td>{{ order.name }}</td>
      <td>{{ order.checkin_date }}</td>
      <td>{{ order.checkout_date }}</td>
      <td>{{ order.days_count }}</td>
      <td>{{ order.guests_count }}</td>
      <td>{{ order.comment }}</td>
      <td>{{ order.status.value }}</td>
      <td><a href="{{ url_for('order_update', id=order.id) }}">Редактировать</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock content %}